<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - PIBID UFAL</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="script.js"></script>
</head>
<body>

    <div id="modal-detalhes" class="modal-overlay">
        <div class="modal-content">
            <span class="material-symbols-rounded close-modal" onclick="fecharModal('modal-detalhes')">close</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <div id="modal-config" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px;">
            <span class="material-symbols-rounded close-modal" onclick="fecharModal('modal-config')">close</span>
            <h2 style="color: var(--azul-escuro); margin-bottom: 5px;">Adicionar Novo Administrador</h2>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">Crie um novo acesso para o painel.</p>
            
            <div class="form-config">
                <div>
                    <label>E-mail do Novo Admin</label>
                    <input type="email" id="new-admin-email" placeholder="ex: professor@pibid.com">
                </div>
                <div>
                    <label>Senha de Acesso</label>
                    <input type="text" id="new-admin-pass" placeholder="M√≠nimo 6 caracteres">
                </div>
                <p id="msg-config" style="font-size: 0.85rem; margin-top: 5px; display: none;"></p>
                <button class="btn-save-config" id="btn-save-admin" onclick="salvarAdmin()">CRIAR ADMINISTRADOR</button>
            </div>
            
            <div style="background: #e0f2fe; color: #0284c7; padding: 15px; border-radius: 8px; font-size: 0.85rem; border: 1px solid #bae6fd;">
                <strong>Nota:</strong> Este usu√°rio ter√° acesso total ao painel imediatamente.
            </div>
        </div>
    </div>

    <div id="modal-logs" class="modal-overlay">
        <div class="modal-content" style="max-width: 800px;">
            <span class="material-symbols-rounded close-modal" onclick="fecharModal('modal-logs')">close</span>
            <h2 style="color: var(--azul-escuro); margin-bottom: 5px;">Hist√≥rico de Atividades</h2>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">Registro de altera√ß√µes feitas por administradores.</p>
            <div style="overflow-x: auto; max-height: 400px;">
                <table class="table-logs">
                    <thead><tr><th>Data/Hora</th><th>Admin</th><th>A√ß√£o</th><th>ID do Alvo</th></tr></thead>
                    <tbody id="tbody-logs"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="modal-confirmacao" class="modal-overlay">
        <div class="modal-content modal-confirm-content">
            <span class="material-symbols-rounded modal-confirm-icon" id="confirm-icon">help</span>
            <div class="modal-confirm-title" id="confirm-title">Tem certeza?</div>
            <p id="confirm-text" style="color: #666;">Essa a√ß√£o n√£o pode ser desfeita.</p>
            <div class="modal-confirm-actions">
                <button class="btn-modal-cancel" onclick="fecharModal('modal-confirmacao')">Cancelar</button>
                <button class="btn-modal-confirm" id="btn-confirm-action" onclick="executarAcaoConfirmada()">Sim, Confirmar</button>
            </div>
        </div>
    </div>

    <div id="modal-relatorios" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px;">
            <span class="material-symbols-rounded close-modal" onclick="fecharModal('modal-relatorios')">close</span>
            <h2 style="color: var(--azul-escuro); text-align: center;">Gerar Relat√≥rio</h2>
            <div class="report-options">
                <button class="btn-report-opt" onclick="gerarRelatorio('lista_presenca')">
                    <span class="material-symbols-rounded">checklist</span><strong>Lista de Presen√ßa</strong>
                </button>
                <button class="btn-report-opt" onclick="gerarRelatorio('lista_apresentadores')">
                    <span class="material-symbols-rounded">co_present</span><strong>Apresentadores</strong>
                </button>
                <button class="btn-report-opt" onclick="gerarRelatorio('lista_emails')">
                    <span class="material-symbols-rounded">alternate_email</span><strong>Lista de E-mails</strong>
                </button>
            </div>
        </div>
    </div>

    <div id="modal-aviso" class="modal-overlay" style="z-index: 99999;">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <span class="material-symbols-rounded" id="aviso-icon" style="font-size: 60px; margin-bottom: 15px;">info</span>
            <h2 id="aviso-titulo" style="color: var(--azul-escuro); margin-bottom: 10px;">Aviso</h2>
            <p id="aviso-msg" style="color: #666; margin-bottom: 25px;">Mensagem...</p>
            <button class="btn-login" onclick="fecharModal('modal-aviso')" style="width: 100%;">ENTENDI</button>
        </div>
    </div>

    <div id="login-overlay">
        <div class="login-card">
            <div style="margin-bottom: 20px;">
                <span class="material-symbols-rounded" style="font-size: 60px; color: var(--azul-claro); text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);">admin_panel_settings</span>
            </div>
            <h2 style="font-size: 1.8rem; margin-bottom: 5px;">P√°gina do Monitor</h2>
            <p style="margin-bottom: 30px; font-size: 0.95rem; color: rgba(255,255,255,0.7);">Acesso √† gest√£o da feira</p>
            <div class="input-group">
                <label for="usuario-admin">E-mail de Acesso</label>
                <input type="email" id="usuario-admin" placeholder="admin@exemplo.com">
            </div>
            <div class="input-group">
                <label for="senha-admin">Senha</label>
                <div class="password-wrapper">
                    <input type="password" id="senha-admin" placeholder="Digite sua senha">
                    <span class="material-symbols-rounded eye-icon" onclick="alternarVisibilidadeSenha()" id="icone-olho">visibility</span>
                </div>
            </div>
            <button class="btn-login" id="btn-login" onclick="fazerLogin()">ENTRAR NO SISTEMA</button>
            <p id="msg-erro" style="color: var(--vermelho-erro); margin-top: 15px; display: none; font-weight: 600;">Usu√°rio ou senha incorretos!</p>
        </div>
    </div>

    <div id="painel-conteudo" style="display: none;">
        <div class="admin-wrapper">
            <!-- SIDEBAR -->
            <nav class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <img src="assets/pibid.webp" alt="Logo" class="sidebar-logo">
                    <div class="brand-text">PIBID<br><span style="font-size:0.8rem; font-weight:400; opacity:0.8;">Admin Painel</span></div>
                    <span class="material-symbols-rounded" onclick="toggleSidebar()" style="margin-left:auto; display:none; cursor:pointer;" id="close-sidebar-btn">close</span>
                </div>
                
                <div class="sidebar-menu">
                    <div class="nav-item ativo" id="tab-dashboard" onclick="alternarAba('dashboard'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">dashboard</span> Vis√£o Geral
                    </div>
                    <div class="nav-item" id="tab-inscritos" onclick="alternarAba('inscritos'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">groups</span> Inscritos
                    </div>
                    <div class="nav-item" id="tab-galeria" onclick="alternarAba('galeria'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">perm_media</span> Galeria
                    </div>
                    <div class="nav-item" id="tab-noticias" onclick="alternarAba('noticias'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">article</span> Not√≠cias
                    </div>
                    <div class="nav-item" id="tab-calendario" onclick="alternarAba('calendario'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">event</span> Calend√°rio
                    </div>
                    <div class="nav-item" id="tab-vencedor" onclick="alternarAba('vencedor'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">emoji_events</span> Resultados
                    </div>
                    <div class="nav-item" id="tab-mensagens" onclick="alternarAba('mensagens'); toggleSidebarIfMobile()">
                         <span class="material-symbols-rounded">mail</span> Mensagens 
                         <span id="badge-mensagens-novas" style="background: var(--vermelho-erro); color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 0.65rem; display: none; align-items: center; justify-content: center; margin-left: auto;">0</span>
                    </div>
                    <div class="nav-item" id="tab-configuracoes" onclick="alternarAba('configuracoes'); toggleSidebarIfMobile()">
                        <span class="material-symbols-rounded">settings</span> Configura√ß√µes
                   </div>
                </div>

                <div style="padding: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                    <div class="nav-item" onclick="fazerLogout()" style="color: #fca5a5;">
                        <span class="material-symbols-rounded">logout</span> Sair
                    </div>
                </div>
            </nav>

            <!-- CONTEUDO PRINCIPAL -->
            <main class="main-content">
                <!-- TOP HEADER -->
                <header class="top-header">
                    <div style="display: flex; align-items: center;">
                        <span class="material-symbols-rounded toggle-sidebar" onclick="toggleSidebar()">menu</span>
                        <div class="header-title">
                            <h2 id="page-title">Vis√£o Geral</h2>
                            <p id="current-date">Gest√£o Administrativa</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 20px;">
                        <!-- Bot√£o Site Removido -->
                        
                        <div class="user-container" onclick="abrirMenuUsuario()" style="padding: 5px 15px; background: white; border: 1px solid #e2e8f0; border-radius: 30px; display: flex; align-items: center; gap: 10px; cursor: pointer; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.02);" onmouseover="this.style.borderColor='#cbd5e1'" onmouseout="this.style.borderColor='#e2e8f0'">
                            <div class="user-avatar" style="width: 32px; height: 32px; background: var(--azul-fundo); color: var(--azul-principal); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <span class="material-symbols-rounded" style="font-size: 20px;">person</span>
                            </div>
                            <span id="display-nome-user" style="font-size: 0.9rem; font-weight: 600; color: var(--azul-escuro);">Admin</span>
                            <span class="material-symbols-rounded" style="color: #94a3b8; font-size: 1.2rem;">arrow_drop_down</span>

                            <!-- Dropdown -->
                            <div id="dropdown-menu" class="dropdown-menu" style="right: 0; top: 120%;">
                                <div class="dropdown-item" onclick="abrirModalConfig()">
                                    <span class="material-symbols-rounded">add_moderator</span> Criar Novo Admin
                                </div>
                                <div class="dropdown-item" onclick="fazerLogout()" style="color: var(--vermelho-erro);">
                                    <span class="material-symbols-rounded">logout</span> Sair
                                </div>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="content-body">

            <div id="view-dashboard-panel" style="display: none;">
                <h2 style="color: var(--azul-escuro); margin-bottom: 10px;">Dashboard de Controle</h2>
                <p style="color: #64748b; margin-bottom: 30px;">Bem-vindo ao painel. Aqui est√° o resumo do evento em tempo real.</p>
                
                <div class="stats-container">
                    <div class="stat-card azul"><h3>Total de Inscritos</h3><p id="dash-total">0</p></div>
                    <div class="stat-card verde"><h3>Certificados Emitidos</h3><p id="dash-certificados">0</p></div>
                    <div class="stat-card amarelo"><h3>Aguardando Aprova√ß√£o</h3><p id="dash-pendentes">0</p></div>
                    <div class="stat-card" style="border-top-color: #f43f5e;"><h3>Mensagens Novas</h3><p id="dash-msgs">0</p></div>
                </div>

                <!-- LINHA SUPERIOR: 3 GR√ÅFICOS -->
                <div class="dash-grid-top">
                    <!-- 1. CATEGORIAS -->
                    <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--azul-principal);">pie_chart</span> Participa√ß√£o por Categoria</h3>
                        </div>
                        <div class="chart-area" style="height: 250px;">
                            <canvas id="chart-categorias"></canvas>
                        </div>
                    </div>
                    
                    <!-- 2. STATUS -->
                    <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--verde-sucesso);">donut_large</span> Status das Inscri√ß√µes</h3>
                        </div>
                        <div class="chart-area" style="height: 250px;">
                            <canvas id="chart-status"></canvas>
                        </div>
                    </div>

                    <!-- 3. TRABALHOS (NOVO) -->
                     <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: #8b5cf6;">fact_check</span> Entregas de Trabalhos</h3>
                        </div>
                        <div class="chart-area" style="height: 250px;">
                            <canvas id="chart-trabalhos"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- LINHA INFERIOR: 2 GR√ÅFICOS -->
                <div class="dash-grid-bottom" style="margin-top: 25px;">
                    <!-- 4. EVOLU√á√ÉO -->
                    <div class="chart-card-container">
                         <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--azul-claro);">show_chart</span> Evolu√ß√£o das Inscri√ß√µes</h3>
                        </div>
                        <div class="chart-area" style="height: 300px;">
                            <canvas id="chart-evolucao"></canvas>
                        </div>
                    </div>

                    <!-- 5. INSTITUI√á√ïES (NOVO) -->
                    <div class="chart-card-container">
                         <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: #f59e0b;">school</span> Top 5 Institui√ß√µes</h3>
                        </div>
                        <div class="chart-area" style="height: 300px;">
                            <canvas id="chart-instituicoes"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div id="view-inscritos" style="display: none;">
                <div class="stats-container">
                    <div class="stat-card azul"><h3>Total Geral</h3><p id="total-geral">0</p></div>
                    <div class="stat-card azul"><h3>Apresentadores</h3><p id="total-apresentadores">0</p></div>
                    <div class="stat-card verde"><h3>Ouvintes</h3><p id="total-ouvintes">0</p></div>
                    <div class="stat-card amarelo"><h3>Monitores</h3><p id="total-monitores">0</p></div>
                    <div class="stat-card" style="border-top-color: #8b5cf6;"><h3>Supervisores</h3><p id="total-supervisores">0</p></div>
                </div>

                <div class="filtros-bar">
                    <div class="filtros-group">
                        <button class="btn-filtro ativo" onclick="filtrar('todos', this)">Todos</button>
                        <button class="btn-filtro" onclick="filtrar('confirmados', this)"><span class="material-symbols-rounded" style="font-size:18px; color:var(--verde-sucesso);">check_circle</span> Confirmados</button>
                        <button class="btn-filtro" onclick="filtrar('Apresentador', this)">Apresentadores</button>
                        <button class="btn-filtro" onclick="filtrar('Ouvinte', this)">Ouvintes</button>
                        <button class="btn-filtro" onclick="filtrar('Monitor', this)">Monitores</button>
                        <button class="btn-filtro" onclick="filtrar('Supervisor', this)">Supervisores</button>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn-logs" onclick="abrirModalLogs()"><span class="material-symbols-rounded">history</span> Hist√≥rico</button>
                        <button class="btn-report" onclick="abrirModalRelatorios()"><span class="material-symbols-rounded">print</span> Relat√≥rios</button>
                        <button class="btn-trash-view" id="btn-trash" onclick="alternarModoLixeira()"><span class="material-symbols-rounded">delete</span> Ver Lixeira</button>
                        <button class="btn-padrao" onclick="carregarDados()"><span class="material-symbols-rounded">sync</span> Atualizar</button>
                    </div>
                </div>

                <h3 id="titulo-grid" style="margin-bottom: 20px; color: var(--azul-principal); display: none;">üóëÔ∏è ITENS NA LIXEIRA</h3>
                <div id="loader" style="text-align: center; padding: 40px; display: none;">
                    <span class="material-symbols-rounded" style="font-size: 40px; color: var(--azul-claro); animation: spin 1s linear infinite;">progress_activity</span>
                </div>
                <div id="grid-cards" class="grid-inscritos"></div>
            </div>

            <div id="view-galeria" style="display: none;">
                <div class="upload-area">
                    <span class="material-symbols-rounded" style="font-size: 48px; color: var(--azul-claro);">folder</span>
                    <h3 style="color: var(--azul-escuro); margin-top: 10px;">Adicionar Nova Foto</h3>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">Formatos aceitos: JPG, PNG, WEBP</p>
                    <div style="max-width: 400px; margin: 0 auto; display: flex; flex-direction: column; gap: 10px;">
                        <input type="text" id="foto-titulo" placeholder="Legenda base das fotos" style="padding: 10px; border: 1px solid #ccc; border-radius: 8px;">
                        <label for="input-foto" class="input-file-trigger">Selecionar Arquivo(s)</label>
                        <input type="file" id="input-foto" class="input-file-hidden" accept="image/*" onchange="mostrarNomeArquivo()" multiple >
                        <p id="nome-arquivo-selecionado" style="font-size: 0.8rem; color: var(--azul-principal); font-weight: bold;"></p>
                        <button id="btn-upload" class="btn-login" style="margin-top: 0;" onclick="fazerUploadFoto()">ENVIAR FOTO(S)</button>
                        <div id="progresso-upload" style="display:none; color: var(--azul-principal); font-weight: bold; margin-top: 10px;">Enviando...</div>
                    </div>
                </div>
                <h3 style="color: var(--azul-escuro); margin-bottom: 20px; border-left: 4px solid var(--azul-principal); padding-left: 10px;">Fotos na Galeria</h3>
                
                <div id="bulk-toolbar" style="display: flex; gap: 15px; margin-bottom: 20px; align-items: center;">
                    <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; font-weight: 600; color: var(--azul-escuro);">
                        <input type="checkbox" id="chk-todos" onchange="selecionarTodas(this)" style="width: 18px; height: 18px;">
                        Selecionar Todas
                    </label>
                    <button id="btn-bulk-delete" class="btn-trash-view" onclick="solicitarExclusaoEmMassa()" style="padding: 5px 15px; font-size: 0.9rem; display: none;">
                        <span class="material-symbols-rounded">delete</span> Excluir (<span id="count-sel">0</span>)
                    </button>
                </div>

                <div id="loader-galeria" style="text-align: center; padding: 20px; display: none;">Carregando fotos...</div>
                <div id="grid-galeria" class="grid-galeria"></div>
            </div>

            <!-- VIEW NOT√çCIAS -->
            <div id="view-noticias" style="display: none;">
                <!-- Barra Superior com Stats e Ferramentas -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.03);">
                    <!-- Stats -->
                    <div class="stats-container" style="margin: 0;">
                        <div class="stat-card azul" style="padding: 10px 20px; min-width: 150px; margin: 0;">
                            <h3 style="font-size: 0.9rem;">Not√≠cias Publicadas</h3>
                            <p id="total-noticias" style="font-size: 1.5rem; margin: 0;">0</p>
                        </div>
                    </div>

                    <!-- Barra de Busca -->
                    <div style="flex: 1; min-width: 250px; position: relative;">
                        <span class="material-symbols-rounded" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #94a3b8;">search</span>
                        <input type="text" id="busca-noticias" onkeyup="filtrarNoticias()" placeholder="Pesquisar not√≠cias..." style="width: 100%; padding: 12px 10px 12px 40px; border: 1px solid #e2e8f0; border-radius: 8px; outline: none; transition: border 0.3s;">
                    </div>

                    <!-- Bot√µes de A√ß√£o -->
                    <div style="display: flex; gap: 10px;">
                        <a href="../site-principal/noticias-index.html" target="_blank" class="btn-padrao" style="background: white; color: var(--azul-principal); border: 1px solid var(--azul-principal); display: flex; align-items: center; gap: 8px; padding: 10px 20px; text-decoration: none;">
                            <span class="material-symbols-rounded">visibility</span> Ver Portal
                        </a>
                        <button onclick="carregarNoticias()" class="btn-icon" style="background: #f1f5f9; color: var(--azul-escuro); width: 42px; height: 42px;" title="Recarregar Lista">
                            <span class="material-symbols-rounded">refresh</span>
                        </button>
                        <button onclick="abrirModalNoticia()" class="btn-padrao" style="background: var(--verde-sucesso); display: flex; align-items: center; gap: 8px; padding: 10px 20px;">
                            <span class="material-symbols-rounded">add_circle</span> Nova Not√≠cia
                        </button>
                    </div>
                </div>

                <div class="card-painel">
                    <h4 style="margin-bottom: 15px; color: var(--azul-escuro); border-bottom: 1px solid #eee; padding-bottom: 10px;">
                        <span class="material-symbols-rounded" style="vertical-align: bottom; margin-right: 5px;">list</span>
                        Lista de Not√≠cias
                    </h4>
                    
                    <!-- Cabe√ßalho da Lista -->
                    <div style="display: grid; grid-template-columns: 80px 1fr 150px 100px; gap: 15px; padding: 10px; background: #f8fafc; border-radius: 8px; font-weight: bold; color: #64748b; font-size: 0.85rem; margin-bottom: 10px;">
                        <div>Capa</div>
                        <div>T√≠tulo / Resumo</div>
                        <div>Data</div>
                        <div style="text-align: right;">A√ß√µes</div>
                    </div>

                    <div id="lista-noticias" style="display: flex; flex-direction: column; gap: 10px;">
                        <!-- Linhas de not√≠cias injetadas via JS -->
                    </div>
                </div>
            </div>

            <!-- VIEW CALENDARIO -->
            <div id="view-calendario" style="display: none;">
                <div class="stats-container">
                    <div class="stat-card azul"><h3>Eventos Cadastrados</h3><p id="total-eventos">0</p></div>
                </div>
                <div class="form-config">
                    <h3>Adicionar Evento ao Calend√°rio</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <input type="date" id="evt-data" style="flex: 1; padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
                        <input type="text" id="evt-desc" placeholder="Descri√ß√£o do Evento (Ex: Abertura)" style="flex: 3; padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
                        <button class="btn-padrao" onclick="salvarEvento()" style="border: none; background: var(--azul-principal); color: white;">Salvar Evento</button>
                    </div>
                </div>
                <h3>Pr√≥ximos Eventos</h3>
                <div id="lista-eventos" style="margin-top: 20px; display: grid; gap: 10px;"></div>
            </div>

            <!-- VIEW VENCEDOR (Refactored for Multiple Years) -->
            <div id="view-vencedor" style="display: none;">
                <h3 style="color: var(--azul-escuro); margin-bottom: 20px;">Gerenciar Galeria de Vencedores</h3>
                
                <div class="form-config" style="background: white; border-top: 5px solid var(--amarelo-alerta);">
                    <h4 style="margin-bottom: 15px; color: #555;">Adicionar Novo Vencedor</h4>
                    <div style="display: grid; grid-template-columns: 100px 1fr; gap: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; font-weight: bold;">Ano</label>
                            <input type="number" id="win-ano" placeholder="2025" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="font-size: 0.85rem; font-weight: bold;">Nome da Equipe / Projeto</label>
                            <input type="text" id="win-nome" placeholder="Ex: Equipe Alpha" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px;">
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <label style="font-size: 0.85rem; font-weight: bold;">Descri√ß√£o / Conquista</label>
                        <textarea id="win-texto" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-family: inherit;" placeholder="Detalhes sobre a vit√≥ria..."></textarea>
                    </div>
                    <div style="margin-top: 15px; display: flex; align-items: center; gap: 15px;">
                        <div style="flex: 1;">
                            <label style="font-size: 0.85rem; font-weight: bold;">Foto da Equipe</label>
                            <input type="file" id="win-foto-input" accept="image/*" style="width: 100%;">
                        </div>
                        <button id="btn-save-winner" class="btn-padrao" onclick="adicionarVencedor()" style="background: var(--azul-principal); color: white; border: none; padding: 10px 30px;">SALVAR VENCEDOR</button>
                    </div>
                </div>

                <h4 style="margin: 30px 0 15px 0; color: var(--azul-escuro); border-bottom: 1px solid #ccc; padding-bottom: 10px;">Vencedores Cadastrados</h4>
                <div id="lista-vencedores-admin" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
                    <!-- Cards de vencedores injetados via JS -->
                </div>
            </div>

            <!-- VIEW MENSAGENS -->
            <div id="view-mensagens" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                    <h3 style="color: var(--azul-escuro);"><span class="material-symbols-rounded" style="vertical-align: middle; margin-right: 10px;">inbox</span> Mensagens de Contato</h3>
                    <button class="btn-padrao" onclick="carregarMensagens()"><span class="material-symbols-rounded">sync</span> Atualizar</button>
                </div>
                
                <div id="lista-mensagens" style="display: grid; gap: 20px;">
                    <!-- Mensagens injetadas via JS -->
                </div>
                <div id="loader-mensagens" style="text-align: center; padding: 40px; display: none;">
                    <span class="material-symbols-rounded" style="font-size: 40px; color: var(--azul-claro); animation: spin 1s linear infinite;">progress_activity</span>
                </div>
            </div>

            <!-- VIEW CONFIGURA√á√ïES (NOVO) -->
            <div id="view-configuracoes" style="display: none;">
                <h3 style="color: var(--azul-escuro); margin-bottom: 20px;">Informa√ß√µes do Sistema</h3>
                
                <div class="grid-config-2x2">
                    <!-- Card 1: Sobre -->
                    <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--azul-principal);">info</span> Sobre o Projeto</h3>
                        </div>
                        <div style="padding: 0 10px;">
                            <p style="color: #64748b; line-height: 1.6;">
                                Sistema de gerenciamento desenvolvido para auxiliar na organiza√ß√£o e controle da Feira de Matem√°tica do PIBID/UFAL.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Card 2: Desenvolvedor -->
                    <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--verde-sucesso);">code</span> Desenvolvedor</h3>
                        </div>
                        <div style="padding: 0 10px; display: flex; align-items: center; gap: 15px;">
                            <div style="width: 50px; height: 50px; background: #eff6ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--azul-principal); font-weight: bold; font-size: 1.2rem;">
                                CA
                            </div>
                            <div>
                                <h4 style="margin: 0; color: var(--azul-escuro);">CodAureo_DevStudio</h4>
                                <p style="margin: 0; color: #64748b; font-size: 0.9rem; font-family: monospace;">Dev root@J/A:~#</p>
                            </div>
                        </div>
                    </div>

                    <!-- Card 3: Infraestrutura -->
                    <div class="chart-card-container">
                        <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--amarelo-alerta);">dns</span> Infraestrutura</h3>
                        </div>
                        <div style="padding: 0 10px;">
                            <ul style="list-style: none; padding: 0; color: #64748b;">
                                <li style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                                    <span class="material-symbols-rounded" style="font-size: 1.1rem; color: #f59e0b;">database</span> 
                                    <strong>Banco de Dados:</strong> Firebase Firestore (NoSQL)
                                </li>
                                <li style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                                    <span class="material-symbols-rounded" style="font-size: 1.1rem; color: #f59e0b;">cloud_upload</span> 
                                    <strong>Armazenamento:</strong> Firebase Storage
                                </li>
                                <li style="display: flex; align-items: center; gap: 10px;">
                                    <span class="material-symbols-rounded" style="font-size: 1.1rem; color: #f59e0b;">security</span> 
                                    <strong>Autentica√ß√£o:</strong> Firebase Auth
                                </li>
                                <li style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px; display: flex; align-items: center; gap: 10px;">
                                    <strong>Status Operacional:</strong> 
                                    <span style="background: #dcfce7; color: #166534; padding: 2px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                                        <span style="width: 8px; height: 8px; background: #166534; border-radius: 50%;"></span>
                                        Online
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Card 4: Vers√£o -->
                    <div class="chart-card-container">
                         <div class="chart-header">
                            <h3><span class="material-symbols-rounded" style="color: var(--azul-claro);">verified</span> Vers√£o</h3>
                        </div>
                        <div style="text-align: center; padding: 20px;">
                            <h2 style="font-size: 2.5rem; color: var(--azul-escuro); margin: 0;">v1.0.2</h2>
                            <p style="color: #94a3b8; margin-top: 5px;">Build: 2026.02.03</p>
                            <span style="display: inline-block; background: #dcfce7; color: #166534; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; margin-top: 15px;">Est√°vel</span>
                        </div>
                    </div>
                </div>
            </div>
                </div>
            </div>
        </div>

        <!-- MODAL NOT√çCIA (NOVO) -->
        <div id="modal-noticia" class="modal-overlay" style="display: none;">
            <div class="modal-content" style="max-width: 600px; width: 90%; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                <div style="background: var(--azul-principal); color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;">
                    <h3 id="titulo-modal-noticia" style="margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 10px;">
                        <span class="material-symbols-rounded">article</span> Nova Not√≠cia
                    </h3>
                    <button onclick="fecharModalNoticia()" style="background: none; border: none; color: white; cursor: pointer; display: flex;">
                        <span class="material-symbols-rounded">close</span>
                    </button>
                </div>
                
                <div style="padding: 20px;">
                    <input type="hidden" id="noticia-id-edicao">
                    <input type="hidden" id="noticia-img-atual">
                    
                    <div style="display: grid; gap: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; font-weight: bold; color: #64748b; margin-bottom: 5px; display: block;">T√≠tulo da Not√≠cia</label>
                            <input type="text" id="noticia-titulo" placeholder="Ex: Inscri√ß√µes abertas para 2026" style="width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 0.95rem;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; font-weight: bold; color: #64748b; margin-bottom: 5px; display: block;">Subt√≠tulo (Resumo Curto)</label>
                            <input type="text" id="noticia-subtitulo" placeholder="Um breve resumo para aparecer nos cards e no topo da not√≠cia..." maxlength="150" style="width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 0.95rem;">
                        </div>
                        
                        <div>
                            <label style="font-size: 0.85rem; font-weight: bold; color: #64748b; margin-bottom: 5px; display: block;">Conte√∫do Completo</label>
                            <textarea id="noticia-descricao" rows="8" style="width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-family: inherit; font-size: 0.95rem; line-height: 1.5;" placeholder="Digite aqui o texto completo da not√≠cia..."></textarea>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <label style="font-size: 0.85rem; font-weight: bold; color: #64748b; margin-bottom: 5px; display: block;">Data de Publica√ß√£o</label>
                                <input type="date" id="noticia-data" style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 8px;">
                            </div>
                            <div>
                                <label style="font-size: 0.85rem; font-weight: bold; color: #64748b; margin-bottom: 5px; display: block;">Imagem de Capa (Opcional)</label>
                                <div style="position: relative;">
                                    <input type="file" id="noticia-imagem" accept="image/*" style="width: 100%; font-size: 0.85rem; padding: 8px; border: 1px dashed #cbd5e1; border-radius: 8px; background: #f8fafc;">
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: 20px; text-align: right; display: flex; justify-content: flex-end; gap: 10px;">
                            <button onclick="fecharModalNoticia()" style="padding: 10px 20px; border: 1px solid #cbd5e1; background: white; color: #64748b; border-radius: 8px; cursor: pointer; font-weight: 600;">Cancelar</button>
                            <button id="btn-save-noticia" onclick="salvarNoticia()" class="btn-padrao" style="background: var(--azul-principal); color: white; border: none; padding: 10px 25px; border-radius: 8px;">PUBLICAR NOT√çCIA</button>
                        </div>
                </div>
            </div>
        </div>
    </div>

    <div id="area-impressao"></div>
</body>
</html>
